<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Aim Trainer - Précision</title>
    <style>
        :root { --primary: #ff2d2d; --bg: #0a0a0a; --card: #161616; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Segoe UI', Arial; overflow: hidden; }
        
        /* Header */
        header { background: #111; padding: 15px; display: flex; justify-content: center; gap: 20px; border-bottom: 2px solid var(--primary); }
        header a { color: #a0a0a0; text-decoration: none; font-weight: bold; transition: 0.3s; }
        header a:hover, header a.active { color: var(--primary); }

        #menu { text-align: center; padding-top: 50px; overflow-y: auto; height: calc(100vh - 70px); }
        .difficulty-container { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 30px; }
        
        button { 
            background: var(--card); border: 1px solid #333; color: white; padding: 20px 30px; 
            border-radius: 10px; cursor: pointer; transition: 0.3s; min-width: 120px;
        }
        button:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: 0 5px 15px rgba(255,45,45,0.2); }

        #game { display: none; width: 100vw; height: 100vh; position: relative; cursor: crosshair; }
        .dot { position: absolute; border-radius: 50%; background: var(--primary); box-shadow: 0 0 15px var(--primary); cursor: pointer; }
        #hud { position: fixed; top: 80px; left: 20px; font-size: 20px; background: rgba(0,0,0,0.7); padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>

<header>
    <a href="index.html">ACCUEIL</a>
    <a href="entrainement clique.html" class="active">PRÉCISION</a>
    <a href="entrainement suivie.html">SUIVI</a>
    <a href="cps.html">VITESSE</a>
    <a href="reflexes.html">RÉFLEXES</a>
</header>

<div id="menu">
    <h1>Entraînement de Précision</h1>
    <p>Cliquez sur les cibles le plus vite possible.</p>
    <div class="difficulty-container">
        <button onclick="start('facile')">Facile</button>
        <button onclick="start('moyen')">Moyen</button>
        <button onclick="start('difficile')">Difficile</button>
        <button onclick="start('extreme')">Extreme</button>
        <button onclick="start('god')">God</button>
    </div>
</div>

<div id="game">
    <div id="hud">Temps : <span id="time">120</span>s | Score : <span id="score">0</span></div>
</div>

<script>
let score = 0, time = 120, gameInterval = null, dotTimer = null, currentConfig = null;
const difficulty = {
    facile: { size: 50, delay: 1200 }, moyen: { size: 40, delay: 900 },
    difficile: { size: 30, delay: 700 }, extreme: { size: 20, delay: 450 }, god: { size: 15, delay: 300 }
};

function start(level) {
    currentConfig = difficulty[level];
    document.getElementById("menu").style.display = "none";
    document.getElementById("game").style.display = "block";
    score = 0; time = 120;
    updateHUD();
    spawnDot();
    gameInterval = setInterval(() => {
        time--; updateHUD();
        if (time <= 0) endGame();
    }, 1000);
}

function updateHUD() {
    document.getElementById("score").textContent = score;
    document.getElementById("time").textContent = time;
}

function spawnDot() {
    removeDot();
    const dot = document.createElement("div");
    dot.className = "dot";
    dot.style.width = dot.style.height = currentConfig.size + "px";
    dot.style.left = Math.random() * (window.innerWidth - currentConfig.size) + "px";
    dot.style.top = Math.random() * (window.innerHeight - currentConfig.size - 70) + 70 + "px";
    dot.onclick = (e) => { e.stopPropagation(); score++; updateHUD(); spawnDot(); };
    document.getElementById("game").appendChild(dot);
    dotTimer = setTimeout(spawnDot, currentConfig.delay);
}

function removeDot() { clearTimeout(dotTimer); const d = document.querySelector(".dot"); if (d) d.remove(); }
function endGame() { clearInterval(gameInterval); removeDot(); alert("Fin ! Score : " + score); location.reload(); }
</script>
</body>
</html>
